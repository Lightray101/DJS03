<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PodcastPreview Web Component Demo</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
    />
    <style>
      .demo-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }

      .demo-section {
        margin-bottom: 3rem;
      }

      .demo-section h2 {
        color: #333;
        margin-bottom: 1rem;
        border-bottom: 2px solid #50e3c2;
        padding-bottom: 0.5rem;
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 2rem;
        margin-bottom: 2rem;
      }

      .code-example {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 6px;
        padding: 1rem;
        font-family: "Courier New", monospace;
        font-size: 0.9rem;
        overflow-x: auto;
        margin-bottom: 1rem;
      }

      .event-log {
        background: #f1f3f4;
        border: 1px solid #dadce0;
        border-radius: 6px;
        padding: 1rem;
        font-family: "Courier New", monospace;
        font-size: 0.9rem;
        max-height: 200px;
        overflow-y: auto;
      }

      .event-log h4 {
        margin: 0 0 0.5rem 0;
        color: #333;
      }
    </style>
  </head>
  <body>
    <header class="header">
      <div class="header__logo">
        <svg
          class="header__logo-img"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 2C6.48 2 2 6.48 2 12V20C2 21.1 2.9 22 4 22H8C9.1 22 10 21.1 10 20V12C10 8.13 13.13 5 17 5C20.87 5 24 8.13 24 12V20C24 21.1 23.1 22 22 22H18C16.9 22 16 21.1 16 20V12C16 6.48 13.55 2.8 12 2Z"
            fill="#333"
          />
        </svg>
        <h1 class="header__title">PodcastPreview Web Component Demo</h1>
      </div>
    </header>

    <div class="demo-container">
      <div class="demo-section">
        <h2>Basic Usage</h2>
        <p>
          Here are some examples of the PodcastPreview Web Component in action:
        </p>

        <div class="demo-grid">
          <podcast-preview
            id="10716"
            title="Something Was Wrong"
            image="https://content.production.cdn.art19.com/images/cc/e5/0a/08/cce50a08-d77d-490e-8c68-17725541b0ca/9dcebd4019d57b9551799479fa226e2a79026be5e2743c7aef19eac53532a29d66954da6e8dbdda8219b059a59c0abe6dba6049892b10dfb2f25ed90d6fe8d9a.jpeg"
            seasons="14"
            genres="Personal Growth, Investigative Journalism"
            updated="2022-11-03T07:00:00.000Z"
          >
          </podcast-preview>

          <podcast-preview
            id="5675"
            title="This Is Actually Happening"
            image="https://content.production.cdn.art19.com/images/5a/4f/d4/19/5a4fd419-11af-4270-b31c-2c7ed2f563a5/bc913bc926be23d04c9a4d29a829269a753be3d2612dad91f7e92ba4618fefc5c8802af29a1d32b3261eb03f83613e2535e3c574469b0cb510c32cd8d94cfaa1.png"
            seasons="12"
            genres="Investigative Journalism"
            updated="2022-11-01T10:00:00.000Z"
          >
          </podcast-preview>

          <podcast-preview
            id="5279"
            title="American History Tellers"
            image="https://content.production.cdn.art19.com/images/a4/8f/53/79/a48f5379-a90e-4197-915c-c0645e0d9336/8d9e6ebc4d65a9575fa626318e426fcf8be7f98ea0c1b7b103de2b32def46ded57537627d80b36f55edf7c9a8ad639bd9816f68c79b56845203a0b5bc4a63a55.png"
            seasons="51"
            genres="History"
            updated="2022-11-02T07:01:00.000Z"
          >
          </podcast-preview>
        </div>

        <div class="code-example">
          &lt;podcast-preview id="10716" title="Something Was Wrong"
          image="https://example.com/image.jpg" seasons="14" genres="Personal
          Growth, Investigative Journalism"
          updated="2022-11-03T07:00:00.000Z"&gt; &lt;/podcast-preview&gt;
        </div>
      </div>

      <div class="demo-section">
        <h2>Event Handling</h2>
        <p>
          Click on any podcast preview above to see the custom event in action:
        </p>

        <div class="event-log">
          <h4>Event Log:</h4>
          <div id="event-log-content">
            <p>Click on a podcast to see events here...</p>
          </div>
        </div>

        <div class="code-example">
          // Listen for podcast-click events
          document.addEventListener('podcast-click', (event) => {
          console.log('Podcast clicked:', event.detail); // event.detail
          contains: { podcastId, podcastTitle } });
        </div>
      </div>

      <div class="demo-section">
        <h2>Dynamic Content</h2>
        <p>Components can be created and modified dynamically:</p>

        <button
          id="add-podcast-btn"
          style="
            margin-bottom: 1rem;
            padding: 0.5rem 1rem;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
          "
        >
          Add Dynamic Podcast
        </button>

        <div id="dynamic-podcasts" class="demo-grid">
          <!-- Dynamic podcasts will be added here -->
        </div>

        <div class="code-example">
          // Create component dynamically const podcastPreview =
          document.createElement('podcast-preview');
          podcastPreview.setAttribute('id', 'dynamic-1');
          podcastPreview.setAttribute('title', 'Dynamic Podcast');
          podcastPreview.setAttribute('image', 'https://example.com/image.jpg');
          podcastPreview.setAttribute('seasons', '5');
          podcastPreview.setAttribute('genres', 'Comedy, Entertainment');
          podcastPreview.setAttribute('updated', new Date().toISOString());
          document.getElementById('container').appendChild(podcastPreview);
        </div>
      </div>

      <div class="demo-section">
        <h2>Error Handling</h2>
        <p>Components handle missing or invalid data gracefully:</p>

        <div class="demo-grid">
          <podcast-preview
            id="error-1"
            title="Podcast with Missing Image"
            image="https://invalid-url-that-will-fail.com/image.jpg"
            seasons="3"
            genres="Test Genre"
            updated="2022-11-01T10:00:00.000Z"
          >
          </podcast-preview>

          <podcast-preview
            id="error-2"
            title="Podcast with Missing Data"
            seasons="0"
            updated=""
          >
          </podcast-preview>
        </div>
      </div>
    </div>

    <script type="module">
      // Import the Web Component
      import "./components/PodcastPreview.js";

      // Event logging
      document.addEventListener("podcast-click", (event) => {
        const logContent = document.getElementById("event-log-content");
        const timestamp = new Date().toLocaleTimeString();
        const logEntry = document.createElement("p");
        logEntry.innerHTML = `<strong>[${timestamp}]</strong> Podcast clicked: <strong>${event.detail.podcastTitle}</strong> (ID: ${event.detail.podcastId})`;
        logContent.appendChild(logEntry);

        // Keep only last 10 entries
        while (logContent.children.length > 10) {
          logContent.removeChild(logContent.firstChild);
        }
      });

      // Dynamic podcast addition
      let dynamicCounter = 1;
      document
        .getElementById("add-podcast-btn")
        .addEventListener("click", () => {
          const container = document.getElementById("dynamic-podcasts");
          const podcastPreview = document.createElement("podcast-preview");

          podcastPreview.setAttribute("id", `dynamic-${dynamicCounter}`);
          podcastPreview.setAttribute(
            "title",
            `Dynamic Podcast ${dynamicCounter}`
          );
          podcastPreview.setAttribute(
            "image",
            "https://via.placeholder.com/300x200/4a90e2/ffffff?text=Dynamic+Podcast"
          );
          podcastPreview.setAttribute(
            "seasons",
            Math.floor(Math.random() * 10 + 1).toString()
          );
          podcastPreview.setAttribute("genres", "Dynamic, Demo, Test");
          podcastPreview.setAttribute("updated", new Date().toISOString());

          container.appendChild(podcastPreview);
          dynamicCounter++;
        });
    </script>
  </body>
</html>
